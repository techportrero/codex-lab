@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg: 246 246 243;
  --surface: 255 255 252;
  --surface-muted: 242 243 246;
  --text-strong: 23 27 34;
  --text-muted: 99 107 122;
  --text-subtle: 138 144 156;
  --line: 214 220 229;
  --accent: 80 132 255;
  --accent-strong: 56 109 236;
  --accent-soft: 231 239 255;
  --danger: 184 57 57;
  --warn-soft: 255 248 232;
}

[data-theme='dark'] {
  --bg: 16 18 24;
  --surface: 25 28 37;
  --surface-muted: 31 35 46;
  --text-strong: 238 242 251;
  --text-muted: 161 171 191;
  --text-subtle: 117 125 142;
  --line: 61 69 87;
  --accent: 121 167 255;
  --accent-strong: 146 184 255;
  --accent-soft: 49 68 105;
  --danger: 248 124 124;
  --warn-soft: 80 63 28;
}

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply antialiased;
    margin: 0;
    min-height: 100vh;
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 'Helvetica Neue',
      'Segoe UI', sans-serif;
    color: rgb(var(--text-strong));
    background:
      radial-gradient(circle at 10% -10%, rgb(var(--accent) / 0.14), transparent 42%),
      radial-gradient(circle at 95% 5%, rgb(var(--accent) / 0.08), transparent 34%),
      linear-gradient(180deg, rgb(var(--bg)), rgb(var(--bg)));
    letter-spacing: -0.01em;
  }

  * {
    box-sizing: border-box;
  }

  ::selection {
    background: rgb(var(--accent) / 0.24);
  }
}

@layer components {
  .panel {
    @apply rounded-[1.25rem] border px-5 py-5 shadow-soft transition-all duration-200 ease-out sm:px-6 sm:py-6;
    border-color: rgb(var(--line));
    background: linear-gradient(180deg, rgb(var(--surface) / 0.98), rgb(var(--surface) / 0.92));
  }

  .section-title {
    @apply text-[1.35rem] font-semibold tracking-tight text-[rgb(var(--text-strong))] sm:text-2xl;
  }

  .label {
    @apply mb-1.5 block text-xs font-medium uppercase tracking-[0.07em] text-[rgb(var(--text-muted))];
  }

  .input {
    @apply h-11 w-full rounded-xl border bg-[rgb(var(--surface))] px-3 text-sm text-[rgb(var(--text-strong))] outline-none transition-all duration-200 ease-out placeholder:text-[rgb(var(--text-subtle))];
    border-color: rgb(var(--line));
  }

  .textarea {
    @apply w-full rounded-xl border bg-[rgb(var(--surface))] px-3 py-2 text-sm leading-6 text-[rgb(var(--text-strong))] outline-none transition-all duration-200 ease-out placeholder:text-[rgb(var(--text-subtle))];
    border-color: rgb(var(--line));
  }

  .input:focus-visible,
  .textarea:focus-visible,
  .focus-ring:focus-visible {
    border-color: rgb(var(--accent) / 0.64);
    box-shadow: 0 0 0 3px rgb(var(--accent) / 0.2);
  }

  .button-primary {
    @apply inline-flex h-10 items-center justify-center rounded-xl border px-4 text-sm font-medium tracking-[0.01em] transition-all duration-200 ease-out focus-ring;
    border-color: rgb(var(--accent-strong) / 0.18);
    color: rgb(255 255 255);
    background: linear-gradient(180deg, rgb(var(--accent)), rgb(var(--accent-strong)));
  }

  .button-primary:hover {
    filter: brightness(1.03);
  }

  .button-primary:disabled {
    @apply cursor-not-allowed opacity-65;
  }

  .button-quiet {
    @apply inline-flex h-10 items-center justify-center rounded-xl border px-3.5 text-sm font-medium text-[rgb(var(--text-strong))] transition-all duration-200 ease-out focus-ring;
    border-color: rgb(var(--line));
    background: rgb(var(--surface));
  }

  .button-quiet:hover {
    background: rgb(var(--surface-muted));
  }

  .button-danger {
    @apply inline-flex h-10 items-center justify-center rounded-xl border px-3.5 text-sm font-medium transition-all duration-200 ease-out focus-ring;
    color: rgb(var(--danger));
    border-color: rgb(var(--danger) / 0.28);
    background: rgb(var(--surface));
  }

  .button-danger:hover {
    background: rgb(var(--danger) / 0.1);
  }

  .tab-button {
    @apply rounded-lg px-3 py-1.5 text-sm font-medium text-[rgb(var(--text-muted))] transition-colors duration-150 ease-out focus-ring;
  }

  .tab-button-active {
    @apply bg-[rgb(var(--surface))] text-[rgb(var(--text-strong))] shadow-sm;
  }

  .empty-state {
    @apply rounded-2xl border border-dashed border-[rgb(var(--line))] bg-[rgb(var(--surface-muted)/0.5)] p-8 text-center;
  }

  .output-pre {
    @apply max-h-[28rem] overflow-auto rounded-2xl border border-[rgb(var(--line))] bg-[rgb(var(--surface-muted)/0.7)] p-4 text-sm leading-6;
  }

  .status-pill {
    @apply rounded-full border border-[rgb(var(--line))] px-4 py-2 text-sm text-[rgb(var(--text-strong))] shadow-soft;
    background: rgb(var(--surface) / 0.96);
  }

  .text-link {
    @apply rounded text-[rgb(var(--text-muted))] transition-colors duration-200 ease-out focus-ring;
  }

  .text-link:hover {
    color: rgb(var(--text-strong));
  }
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: rgb(var(--text-subtle));
}

.token.punctuation {
  color: rgb(var(--text-muted));
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
  color: #d16f6f;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
  color: #4e8b58;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
  color: #7c6ad8;
}

.token.atrule,
.token.attr-value,
.token.keyword {
  color: #3d6fd6;
}

.token.function,
.token.class-name {
  color: #b26b2f;
}

.token.regex,
.token.important,
.token.variable {
  color: #9c5ea5;
}

@media (max-width: 768px) {
  .output-pre {
    max-height: 22rem;
  }
}
